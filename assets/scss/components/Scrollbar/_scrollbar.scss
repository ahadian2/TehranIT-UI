// ❌ هیچ @use از Bootstrap اینجا نذار
@use "../../custom/_variables" as *; // اگر لازم داری متغیرهای خودت رو بخونی، ایرادی نداره

$scrollbar-sizes: ( sm: 2px, md: 5px, lg: 7px ) !default;

// رنگ‌ها با CSS vars بوت‌استرپ (بدون نیاز به Sass vars)
$thumb: var(--bs-primary);
$thumb-hover: color-mix(in srgb, var(--bs-primary) 80%, white 20%);

// برای very-thin: بوردر را صفر تا گردی بهتر دیده شود
@mixin scrollbar($size) {
    &::-webkit-scrollbar {
        width: $size;
        height: $size;
    }

    &::-webkit-scrollbar-track {
        background-color: transparent;
    }

    &::-webkit-scrollbar-thumb {
        background-color: #{$thumb};
        border-radius: 9999px;

        @if ($size <= 4px) {
            border: 0; // ضخامت 2px یا 3px با بوردر له میشه
        }
        @else {
            border: max(2px, $size/3) solid transparent;
            background-clip: padding-box;
        }
    }

    &::-webkit-scrollbar-thumb:hover {
        background-color: #{$thumb-hover};
    }
    // Firefox
    scrollbar-color: #{$thumb} transparent;

    @if ($size <= 5px) {
        scrollbar-width: thin;
    }
    @else {
        scrollbar-width: auto;
    }
}

/* حذف سراسری فلش‌ها (WebKit/Chromium) */
/* حذف دکمه‌های up/down اسکرول‌بار */
html::-webkit-scrollbar-button,
body::-webkit-scrollbar-button,
*::-webkit-scrollbar-button,
*::-webkit-scrollbar-button:single-button,
*::-webkit-scrollbar-button:vertical:decrement,
*::-webkit-scrollbar-button:vertical:increment,
*::-webkit-scrollbar-button:horizontal:decrement,
*::-webkit-scrollbar-button:horizontal:increment,
*::-webkit-scrollbar-button:start:decrement,
*::-webkit-scrollbar-button:end:increment,
*::-webkit-scrollbar-button:double-button:vertical:decrement,
*::-webkit-scrollbar-button:double-button:vertical:increment,
*::-webkit-scrollbar-button:double-button:horizontal:decrement,
*::-webkit-scrollbar-button:double-button:horizontal:increment {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    background-image: none !important;
    border: 0 !important;
    -webkit-appearance: none !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* کلاس‌ها */
.scrollbar-sm {
    @include scrollbar(map-get($scrollbar-sizes, sm));
}

.scrollbar-md, .scrollbar {
    @include scrollbar(map-get($scrollbar-sizes, md));
}

.scrollbar-lg {
    @include scrollbar(map-get($scrollbar-sizes, lg));
}

.scroll-area {
    overflow: auto;
}
